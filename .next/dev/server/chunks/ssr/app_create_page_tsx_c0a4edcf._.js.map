{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/adrianbautista/Desktop/social-monetization-platform/app/create/page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport Link from 'next/link';\nimport { useRouter } from 'next/navigation';\n\nexport default function CreatePage() {\n  const [file, setFile] = useState<File | null>(null);\n  const [description, setDescription] = useState('');\n  const [isUploading, setIsUploading] = useState(false);\n  \n  const router = useRouter();\n\n  // Funci칩n m치gica para convertir archivo a texto (Base64)\n  const toBase64 = (file: File) => new Promise<string>((resolve, reject) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(file);\n    reader.onload = () => resolve(reader.result as string);\n    reader.onerror = error => reject(error);\n  });\n\n  const handlePublish = async () => {\n    if (!file || !description.trim()) {\n      alert(\"Por favor, selecciona un archivo y escribe una descripci칩n.\");\n      return;\n    }\n\n    // ADVERTENCIA DE TAMA칌O: Como usamos memoria local, archivos muy grandes pueden fallar.\n    if (file.size > 4 * 1024 * 1024) { // L칤mite de 4MB aprox\n        alert(\"Para esta demo, por favor usa im치genes o videos cortos (menores a 4MB).\");\n        return;\n    }\n\n    setIsUploading(true);\n\n    try {\n      // 1. Convertimos el archivo real a texto Base64\n      const base64File = await toBase64(file);\n\n      const newPost = {\n        id: Date.now(),\n        username: \"Usuario_Demo\",\n        userImage: \"https://github.com/shadcn.png\", // Usamos un avatar online seguro\n        imageUrl: base64File, // Aqu칤 guardamos el archivo real convertido\n        caption: description,\n        likes: 0,\n        comments: 0,\n        timestamp: new Date().toISOString(),\n      };\n\n      const existingPosts = JSON.parse(localStorage.getItem('posts') || '[]');\n      const updatedPosts = [newPost, ...existingPosts];\n      \n      localStorage.setItem('posts', JSON.stringify(updatedPosts));\n\n      await new Promise(resolve => setTimeout(resolve, 1000));\n      router.push('/');\n\n    } catch (error) {\n      console.error(\"Error al publicar:\", error);\n      alert(\"Hubo un error (posiblemente el archivo es muy pesado para el navegador).\");\n      setIsUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen bg-black text-white p-6 pb-24\">\n      <div className=\"flex items-center justify-between mb-8\">\n        <h1 className=\"text-2xl font-bold\">Nuevo Post</h1>\n        <Link href=\"/\" className=\"text-gray-400 hover:text-white\">Cancelar</Link>\n      </div>\n\n      <div className=\"space-y-6\">\n        <div className={`border-2 border-dashed rounded-xl p-8 text-center transition-colors cursor-pointer relative overflow-hidden ${file ? 'border-pink-500' : 'border-gray-700 hover:border-pink-500'}`}>\n            <input \n              type=\"file\"\n              accept=\"image/*,video/mp4,video/webm\"\n              className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-10\"\n              onChange={(e) => setFile(e.target.files?.[0] || null)}\n            />\n            \n            {file ? (\n              <div className=\"relative h-48 w-full flex items-center justify-center bg-gray-900\">\n                 {file.type.startsWith('image/') ? (\n                    <img src={URL.createObjectURL(file)} alt=\"Preview\" className=\"h-full object-contain\" />\n                 ) : (\n                    <span className=\"text-4xl\">游꿟 Video seleccionado</span>\n                 )}\n              </div>\n            ) : (\n              <div className=\"space-y-2\">\n                  <span className=\"text-4xl\">游닞</span>\n                  <p className=\"text-gray-400\">Toca para elegir una foto o video corto</p>\n              </div>\n            )}\n        </div>\n\n        <div className=\"space-y-2\">\n          <label className=\"text-sm font-medium text-gray-300\">Descripci칩n</label>\n          <textarea \n            className=\"w-full bg-gray-900 border border-gray-800 rounded-lg p-3 text-white focus:ring-2 focus:ring-pink-500 outline-none min-h-[100px]\"\n            placeholder=\"쯈u칠 est치s pensando?\"\n            value={description}\n            onChange={(e) => setDescription(e.target.value)}\n          />\n        </div>\n\n        <button \n          onClick={handlePublish}\n          disabled={isUploading || !file}\n          className={`w-full font-bold py-4 rounded-full transition-all flex items-center justify-center ${\n            isUploading || !file \n              ? 'bg-pink-600/50 text-gray-300 cursor-not-allowed' \n              : 'bg-pink-600 hover:bg-pink-700 text-white'\n          }`}\n        >\n          {isUploading ? \"Publicando...\" : \"Publicar Contenido\"}\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,gVAAQ,EAAc;IAC9C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAC/C,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,gVAAQ,EAAC;IAE/C,MAAM,SAAS,IAAA,8QAAS;IAExB,yDAAyD;IACzD,MAAM,WAAW,CAAC,OAAe,IAAI,QAAgB,CAAC,SAAS;YAC7D,MAAM,SAAS,IAAI;YACnB,OAAO,aAAa,CAAC;YACrB,OAAO,MAAM,GAAG,IAAM,QAAQ,OAAO,MAAM;YAC3C,OAAO,OAAO,GAAG,CAAA,QAAS,OAAO;QACnC;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,QAAQ,CAAC,YAAY,IAAI,IAAI;YAChC,MAAM;YACN;QACF;QAEA,wFAAwF;QACxF,IAAI,KAAK,IAAI,GAAG,IAAI,OAAO,MAAM;YAC7B,MAAM;YACN;QACJ;QAEA,eAAe;QAEf,IAAI;YACF,gDAAgD;YAChD,MAAM,aAAa,MAAM,SAAS;YAElC,MAAM,UAAU;gBACd,IAAI,KAAK,GAAG;gBACZ,UAAU;gBACV,WAAW;gBACX,UAAU;gBACV,SAAS;gBACT,OAAO;gBACP,UAAU;gBACV,WAAW,IAAI,OAAO,WAAW;YACnC;YAEA,MAAM,gBAAgB,KAAK,KAAK,CAAC,aAAa,OAAO,CAAC,YAAY;YAClE,MAAM,eAAe;gBAAC;mBAAY;aAAc;YAEhD,aAAa,OAAO,CAAC,SAAS,KAAK,SAAS,CAAC;YAE7C,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YACjD,OAAO,IAAI,CAAC;QAEd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,sBAAsB;YACpC,MAAM;YACN,eAAe;QACjB;IACF;IAEA,qBACE,6WAAC;QAAI,WAAU;;0BACb,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAG,WAAU;kCAAqB;;;;;;kCACnC,6WAAC,sSAAI;wBAAC,MAAK;wBAAI,WAAU;kCAAiC;;;;;;;;;;;;0BAG5D,6WAAC;gBAAI,WAAU;;kCACb,6WAAC;wBAAI,WAAW,CAAC,4GAA4G,EAAE,OAAO,oBAAoB,yCAAyC;;0CAC/L,6WAAC;gCACC,MAAK;gCACL,QAAO;gCACP,WAAU;gCACV,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK,EAAE,CAAC,EAAE,IAAI;;;;;;4BAGjD,qBACC,6WAAC;gCAAI,WAAU;0CACX,KAAK,IAAI,CAAC,UAAU,CAAC,0BACnB,6WAAC;oCAAI,KAAK,IAAI,eAAe,CAAC;oCAAO,KAAI;oCAAU,WAAU;;;;;yDAE7D,6WAAC;oCAAK,WAAU;8CAAW;;;;;;;;;;qDAIjC,6WAAC;gCAAI,WAAU;;kDACX,6WAAC;wCAAK,WAAU;kDAAW;;;;;;kDAC3B,6WAAC;wCAAE,WAAU;kDAAgB;;;;;;;;;;;;;;;;;;kCAKvC,6WAAC;wBAAI,WAAU;;0CACb,6WAAC;gCAAM,WAAU;0CAAoC;;;;;;0CACrD,6WAAC;gCACC,WAAU;gCACV,aAAY;gCACZ,OAAO;gCACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;;;;;;;;;;;;kCAIlD,6WAAC;wBACC,SAAS;wBACT,UAAU,eAAe,CAAC;wBAC1B,WAAW,CAAC,mFAAmF,EAC7F,eAAe,CAAC,OACZ,oDACA,4CACJ;kCAED,cAAc,kBAAkB;;;;;;;;;;;;;;;;;;AAK3C"}}]
}